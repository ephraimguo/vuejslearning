<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>vue Instance Event</title>
  <script type="text/javascript" src="../assets/js/vue.js"></script>
  <script type="text/javascript" src="../assets/js/jq.js"></script>
</head>
<body>
<h1>vue Instance Event</h1>
<hr>
<div id="app">
  {{num}}
  <p><button v-on:click="add">ADD 1</button></p>
</div>
<hr>
<p><button onclick="reduce()">Reduce 1</button></p>
<p><button onclick="reduceOnce()">Reduce 1 Once Only</button></p>

<script type="text/javascript">
  var app = new Vue({
    el: '#app',
    data: function () {
      return {
       num: 1
      }
    },
    methods: {
      add: function(){
        return this.num++ ;
      }
    }
  });

  app.$on('reduce', function(){
    console.log('reduce function executed');
    this.num--;
  });

  app.$once('reduceOnce', function(){
    console.log('reduce once only =========');
    this.num--;
  });

  function reduce(){
    app.$emit('reduce');
  }
  function reduceOnce(){
    app.$emit('reduceOnce');
  }

</script>
</body>
</html>